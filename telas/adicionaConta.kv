# This file is part of Economize!.

# Economize! is free software: you can redistribute
# it and/or modify it under the terms of the GNU General Public License 
# as published by the Free Software Foundation, either version 3 of
# the License, or any later version.

# Economize! is distributed in the hope that 
# it will be useful, but WITHOUT ANY WARRANTY; without even the 
# implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
# PURPOSE.  See the GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with Economize!.  If not, see <https://www.gnu.org/licenses/>.

#:kivy 2.0.0
<AdicionaConta>:

    #Elementos que serão trabalhados pelo .py
    setMensagem: setMensagem
    getNome: getNome
    # getTipo: getTipo
    getPadrao: getPadrao
    layoutTipo: layoutTipo

    BoxLayout:
        size_hint_y: 1
        spacing: 20
        BoxLayout:
            padding: 40
            size_hint_y: 0.3
            canvas.before:
                Color:
                    rgba: 0.81,0.84,0.99,1
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                text:'\n\nNova conta'
        BoxLayout:
            size_hint_y: 0.9
            padding: 30, 0
            Label:
                haling: "left"
                text_size: self.width, None
                text:'Nome: *'
                size_hint_y: 1
            InputConta:
                id: getNome
            Label:
                haling: "left"
                text_size: self.width, None
                text: "Tipo: *"
                size_hint_y: 1
            BoxLayout:
                size_hint_y: None
                id: layoutTipo
            GridLayout:
                cols: 2
                size_hint_y: 1
                CheckBox:
                    size_hint_x: 0.4
                    id: getPadrao
                    background_checkbox_normal: "imgs/checkbox_normal.png"
                    background_checkbox_down: "imgs/checkbox_down.png"
                    size_hint_y: None
                    border: 0,0,0,0
                Label:
                    text:'[ref=""]Tornar conta padrão[/ref]'
                    markup: True
                    text_size: self.width, None
                    size_hint_y: None
                    on_ref_press:
                        root.trocaCheck()
            Label:
                id: setMensagem
                text:" "
                size_hint_y: 1
        GridLayout:
            size_hint_y: 0.10
            cols: 3
            Label:
                size_hint_x: 0.2
                size_hint_y: None
                text: " "
                height: self.texture_size[1]                
            Button:
                text:'Criar'
                size_hint_x: 0.5
                background_normal: "imgs/btnAzul.png"
                background_down: "imgs/btnAzul.png"
                on_press:
                    root.cadastraConta(getNome.text, getPadrao.active)
            Label:
                size_hint_x: 0.2
                size_hint_y: None
                height: self.texture_size[1]
        GridLayout:
            size_hint_y: 0.20
            cols: 3
            Label:
                size_hint_x: 0.3
                size_hint_y: None
                height: self.texture_size[1]
            BtnCancelarConta:
                on_press:
                    root.manager.current="alteraContas"
                    root.manager.transition.direction="right"
                    #left para entrar na página
                    #right para sair
            Label:
                size_hint_x: 0.3
                size_hint_y: None
                height: self.texture_size[1]

            #Por algum motivo isso diminue o tamanho do 
            #botão de cancelar e eu curti
            Label:
                text: " "
                height: self.texture_size[1] 
            Label:
                text: " "
                height: self.texture_size[1] 
            Label:
                text: " "
                height: self.texture_size[1]
                